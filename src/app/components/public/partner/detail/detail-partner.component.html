<mat-card class="material">
    <mat-card-header>
    </mat-card-header>
    <mat-card-content>
        <!-- <button (click)="addCareer()" mat-raised-button>Thêm ngành nghề</button> -->

        <form [formGroup]="doanh_nghiep" autocomplete="off" (ngSubmit)="onSubmit(doanh_nghiep.getRawValue())">
            <div class="button-control">
                <button type="button" mat-raised-button (click)="Back()">
                    <mat-icon>keyboard_backspace</mat-icon>
                </button>
            </div>

            <div class="row">
                <div class="col-6">
                    <!-- <div formArrayName="danh_sach_nganh_nghe"
                        *ngFor="let item of doanh_nghiep.get('danh_sach_nganh_nghe')['controls']; let i = index;">
                        <div [formGroupName]="i">
                            <mat-form-field appearance="outline">
                                <mat-label>Ngành nghề kinh doanh</mat-label>
                                <mat-select formControlName="id_nganh_nghe_kinh_doanh">
                                    <mat-option *ngFor="let item of career" [value]="item.id_nganh_nghe_kinh_doanh">
                                        {{item.ma_nganh_nghe}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>

                            <mat-form-field appearance="outline">
                                <mat-label>Ngành nghề kinh doanh chính</mat-label>
                                <input formControlName="nganh_nghe_kd_chinh" matInput placeholder="">
                            </mat-form-field>
                        </div>
                        <button (click)="removeCareer(i)" mat-raised-button>Xóa ngành nghề</button>
                    </div> -->

                    <section class="cb-section">
                        <mat-checkbox disabled class="cb" formControlName="hoat_dong"
                            [(ngModel)]="_Service.companyinfo.hoat_dong"> Còn hoạt động
                        </mat-checkbox>
                    </section>

                    <mat-form-field appearance="outline">
                        <mat-label style="color: red;">Tên doanh nghiệp</mat-label>
                        <input readonly formControlName="ten_doanh_nghiep" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.ten_doanh_nghiep">
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label style="color: red;">Tên loại hình hoạt động</mat-label>
                        <mat-select formControlName="id_loai_hinh_hoat_dong" disabled
                            [(ngModel)]="_Service.companyinfo.id_loai_hinh_hoat_dong">
                            <mat-option *ngFor="let item of Business" [value]="item.id_loai_hinh_hoat_dong">
                                {{item.ten_loai_hinh}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label style="color: red;">Phường xã</mat-label>
                        <mat-select formControlName="id_phuong_xa" disabled
                            [(ngModel)]="_Service.companyinfo.id_phuong_xa">
                            <mat-option *ngFor="let item of subdistrict" [value]="item.id_phuong_xa">
                                {{item.ten_phuong_xa}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label style="color: red;">Mã số thuế</mat-label>
                        <input readonly formControlName="mst" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.mst">
                    </mat-form-field>

                    <!-- <mat-form-field appearance="outline">
                        <mat-label style="color: red;">Mã số thuế cha</mat-label>
                        <input readonly formControlName="mst_parent" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.mst_parent">
                    </mat-form-field> -->

                    <mat-form-field appearance="outline">
                        <mat-label style="color: red;">Người đại diện theo pháp luật</mat-label>
                        <input readonly formControlName="nguoi_dai_dien" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.nguoi_dai_dien">
                    </mat-form-field>

                    <!-- <mat-form-field appearance="outline">
                        <mat-label>Nhu cầu bán</mat-label>
                        <textarea readonly formControlName="nhu_cau_ban" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.nhu_cau_ban"></textarea>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Nhu cầu mua</mat-label>
                        <textarea readonly formControlName="nhu_cau_mua" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.nhu_cau_mua"></textarea>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Tiêu chuẩn sản phẩm</mat-label>
                        <textarea readonly formControlName="tieu_chuan_san_pham" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.tieu_chuan_san_pham"></textarea>
                    </mat-form-field> -->
                </div>

                <div class="col-6">
                    <section class="cb-section">
                    </section>

                    <mat-form-field appearance="outline">
                        <mat-label>Ngày bắt đầu kinh doanh</mat-label>
                        <input disabled formControlName="ngay_bd_kd" matInput readonly [matDatepicker]="datePicker"
                            [(ngModel)]="bdkddate" (ngModelChange)="getChange($event)">
                        <mat-datepicker-toggle matSuffix [for]="datePicker" onclick="this.blur()">
                        </mat-datepicker-toggle>
                        <mat-datepicker #datePicker></mat-datepicker>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label style="color: red;">Địa chỉ</mat-label>
                        <input readonly readonly formControlName="dia_chi" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.dia_chi">
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Điện thoại</mat-label>
                        <span matPrefix style="position: relative;vertical-align: 3px;">+84 &nbsp;&nbsp;</span>
                        <input readonly formControlName="so_dien_thoai" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.so_dien_thoai">
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Email</mat-label>
                        <input readonly formControlName="email" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.email">
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Email (Nguồn: SCT)</mat-label>
                        <input readonly formControlName="email_sct" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.email_sct">
                    </mat-form-field>

                    <!-- <mat-form-field appearance="outline">
                        <mat-label>Vốn điều lệ</mat-label>
                        <input readonly currencyMask formControlName="von_dieu_le" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.von_dieu_le">
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Doanh thu</mat-label>
                        <input readonly formControlName="doanh_thu" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.doanh_thu">
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Lợi nhuận</mat-label>
                        <input readonly formControlName="loi_nhuan" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.loi_nhuan">
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Quy mô tài sản</mat-label>
                        <input readonly formControlName="quy_mo_tai_san" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.quy_mo_tai_san">
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Số lao động</mat-label>
                        <input readonly currencyMask formControlName="so_lao_dong" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.so_lao_dong">
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Số lao động (Nguồn: SCT)</mat-label>
                        <input readonly currencyMask formControlName="so_lao_dong_sct" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.so_lao_dong_sct">
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Công suất thiết kế</mat-label>
                        <input readonly currencyMask formControlName="cong_suat_thiet_ke" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.cong_suat_thiet_ke">
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Công suất thiết kế (Nguồn: SCT)</mat-label>
                        <input readonly currencyMask formControlName="cong_suat_thiet_ke_sct" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.cong_suat_thiet_ke_sct">
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Sản lượng</mat-label>
                        <input readonly currencyMask formControlName="san_luong" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.san_luong">
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Sản lượng (Nguồn: SCT)</mat-label>
                        <input readonly currencyMask formControlName="san_luong_sct" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.san_luong_sct">
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                        <mat-label>Nhu cầu hợp tác</mat-label>
                        <textarea readonly formControlName="nhu_cau_hop_tac" matInput placeholder=""
                            [(ngModel)]="_Service.companyinfo.nhu_cau_hop_tac"></textarea>
                    </mat-form-field> -->

                </div>
            </div>
        </form>

        <div class="layout" id="small" #TABLE>
            <table mat-table class="table-layout" id="small-table" [dataSource]="dataSource">

                <ng-container matColumnDef="index">
                    <th mat-header-cell *matHeaderCellDef> STT </th>
                    <td mat-cell *matCellDef="let element; let i = index;" class="center-cell">{{i + 1 +
                        (paginator.pageIndex * paginator.pageSize)}}</td>
                </ng-container>

                <ng-container matColumnDef="id_nganh_nghe_kinh_doanh">
                    <th mat-header-cell *matHeaderCellDef> Ngành nghề kinh doanh </th>
                    <td mat-cell *matCellDef="let element">
                        <mat-select [(ngModel)]="element.id_nganh_nghe_kinh_doanh" disabled>
                            <mat-option *ngFor="let item of career" [value]="item.id_nganh_nghe_kinh_doanh">
                                {{item.ma_nganh_nghe}}
                            </mat-option>
                        </mat-select>
                    </td>
                </ng-container>

                <ng-container matColumnDef="id_linh_vuc">
                    <th mat-header-cell *matHeaderCellDef> Lĩnh vực quản lý </th>
                    <td mat-cell *matCellDef="let element">
                        <mat-select [(ngModel)]="element.id_linh_vuc" disabled>
                            <mat-option *ngFor="let item of Field" [value]="item.id_linh_vuc">
                                {{item.ten_linh_vuc}}
                            </mat-option>
                        </mat-select>
                    </td>
                </ng-container>

                <ng-container matColumnDef="nganh_nghe_kd_chinh">
                    <th mat-header-cell *matHeaderCellDef> Ngành nghề kinh doanh chính </th>
                    <td mat-cell *matCellDef="let element">
                        <input readonly appSpecial class="text-left" [(ngModel)]="element.nganh_nghe_kd_chinh">
                    </td>
                </ng-container>

                <tr mat-header-row class="table-header" *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                <tr mat-row class="table-row" *matRowDef="let row; columns: displayedColumns;let i = index;"
                    (click)="changeRow(i)">
            </table>
        </div>
        <mat-paginator [pageSizeOptions]="[10, 50, 100]" showFirstLastButtons></mat-paginator>
    </mat-card-content>
</mat-card>