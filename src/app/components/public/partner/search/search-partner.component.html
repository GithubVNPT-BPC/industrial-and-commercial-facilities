<mat-card class="material">
    <mat-card-header>
        <mat-card-title>
            <strong>
                Danh sách doanh nghiệp
            </strong>
        </mat-card-title>
        <mat-card-subtitle>
        </mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
        <div class="row mt-5">
            <div class="col-lg-3 col-md-6 col-sm-12 ">
                <div class="form-group">
                    <mat-form-field appearance="outline">
                        <mat-label>Doanh Nghiệp</mat-label>
                        <input id="selectedBusiness" type="text" aria-label="Doanh nghiệp" placeholder="Nhập tên doanh nghiệp"
                        mdInput matInput (keyup)="changeFilter('ten_doanh_nghiep', $event)" name="ten_doanh_nghiep" [(ngModel)]="selectedBusiness" />
                    </mat-form-field>
                    <!-- <label for="name_select">Tên công ty</label>
                    <input id="name_select" class="form-control" [(ngModel)]="tempFilter.ten_doanh_nghiep" type="text" placeholder="Tên Doanh nghiệp" aria-label="Doanh nghiệp"> -->
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-12 ">
                <div class="form-group">
                    <mat-form-field appearance="outline"> 
                        <mat-label>Ngành nghề</mat-label>
                        <input id="selectedCarrier" type="text" aria-label="Ngành nghề" placeholder="Nhập ngành nghề"
                        mdInput matInput (keyup)="changeFilter('ten_nganh_nghe', $event)" name="ten_nganh_nghe" [(ngModel)]="selectedCarrier" />
                    </mat-form-field>
                </div>
            </div>
            <div class="col-lg-3 col-md-6 col-sm-12 ">
                <div class="form-group">
                    <mat-form-field appearance="outline">
                        <mat-label>Địa chỉ</mat-label>
                        <!-- <select matNativeControl name="ten_quan_huyen" [(ngModel)]="selectedAddress" id="selectedAddress"
                                (change)="changeFilter('ten_quan_huyen', $event)">
                            <option selected value="">Tất cả</option>
                            <option *ngFor="let address of addresses" [ngValue]="address" [value]="address" >{{address}}</option>
                        </select>      -->
                        <mat-select name="ten_quan_huyen" id="selectedAddress" [(ngModel)]="selectedAddress" (selectionChange)="changeFilter('ten_quan_huyen', $event)">
                            <mat-option value=''>Tất cả</mat-option>
                            <mat-option *ngFor='let address of addresses' [value]='address'>
                                {{address}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>

            <div class="col-lg-3 col-md-6 col-sm-12 button-control text-center">
                <button mat-raised-button class="form-button mt-2" (click)="clearFilter()">Xóa bộ lọc</button>
                <button mat-raised-button class="form-button mt-2" (click)="exportTOExcel('DanhSachDoanhNghiep','danh sach')">Xuất Excel</button>
            </div>
        </div>

        <div class="layout" #TABLE>
            <!-- <mat-form-field *ngFor="let filter of filterSelectObj" style="margin-left: 15px;">
                <mat-label>Filter {{filter.name}}</mat-label>
                <input matInput name="{{filter.columnProp}}" 
                    (keyup)="filterChange(filter,$event)" [(ngModel)]="filter.modelValue" placeholder="Filter">
            </mat-form-field> -->
            
            <table mat-table matTableFilter [exampleEntity]="filterEntity" [filterType]="filterType" [dataSource]="dataSource" class="table-layout" id="small-table1">

                <ng-container matColumnDef="index" >
                    <th mat-header-cell *matHeaderCellDef> STT
                    </th>
                    <td mat-cell *matCellDef="let element; let i = index;" class="center-cell"> {{this.paginator.pageIndex == 0 ? i + 1 : 1 + i + this.paginator.pageIndex * this.paginator.pageSize}}
                    </td>
                </ng-container>

                <ng-container matColumnDef="ten_doanh_nghiep" sticky>
                    <th mat-header-cell *matHeaderCellDef> Tên doanh nghiệp </th>
                    <td mat-cell *matCellDef="let element" (click)="openDetailCompany(element.mst)" id="jump" class="text">
                        {{element.ten_doanh_nghiep}} </td>
                </ng-container>

                <ng-container matColumnDef="mst">
                    <th mat-header-cell *matHeaderCellDef> Mã số thuế </th>
                    <td mat-cell *matCellDef="let element" class="number"> {{element.mst}} </td>
                </ng-container>

                <ng-container matColumnDef="dia_chi">
                    <th mat-header-cell *matHeaderCellDef> Địa chỉ </th>
                    <td mat-cell *matCellDef="let element" class="text"> {{element.dia_chi_day_du}} </td>
                </ng-container>

                <ng-container matColumnDef="dien_thoai">
                    <th mat-header-cell *matHeaderCellDef> Điện thoại </th>
                    <td mat-cell *matCellDef="let element" class="number"> {{element.dien_thoai}} </td>
                </ng-container>

                <ng-container matColumnDef="ten_nganh_nghe">
                    <th mat-header-cell *matHeaderCellDef> Tên ngành nghề - ngành nghề kinh doanh</th>
                    <td mat-cell *matCellDef="let element" class="text"> {{element.ten_nganh_nghe}} </td>
                </ng-container>

                <ng-container matColumnDef="chi_tiet_doanh_nghiep">
                    <th mat-header-cell *matHeaderCellDef> Chi tiết </th>
                    <td mat-cell *matCellDef="let element" id="jump">
                        <mat-icon (click)="openDetailCompany(element.mst)">search</mat-icon>
                    </td>
                </ng-container>

                <tr mat-header-row class="table-header" *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                <tr mat-row class="table-row" *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>
        </div>
        <mat-paginator #scheduledOrdersPaginator [pageSizeOptions]="[10, 20, 50, 100]" showFirstLastButtons>
        </mat-paginator>
    </mat-card-content>
</mat-card>